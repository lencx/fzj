import{R as e,k as a,z as t}from"./react.434ff2b9.js";import{c as s,a as n,L as l,E as r}from"./fzj.08fd6cc8.js";import{A as m}from"./index.a5f9fb0d.js";import{h as c,f as o,r as i,d}from"./index.f90eabce.js";import"./lodash.71f9f2ff.js";import"./graphql.8e66ecff.js";const u=({data:a})=>e.createElement("div",{className:"comment-replies"},a.edges.map((({node:a},t)=>e.createElement("div",{key:+t},e.createElement(m,{className:"comment-replies-author",avatar:a.author.avatarUrl,name:a.author.login,onClick:()=>c(a.author.url)}),e.createElement("div",{className:"comment-replies-body",dangerouslySetInnerHTML:{__html:a.bodyHTML}})))));var p=({data:a})=>{const{author:t,replies:s}=a;return e.createElement("div",{className:"comment-item",key:a.id},e.createElement(m,{className:"comment-author",avatar:t.avatarUrl,name:t.login,onClick:()=>c(t.url)}),e.createElement("div",{className:"comment-body"},e.createElement("div",{className:"comment-main",dangerouslySetInnerHTML:{__html:a.bodyHTML}}),e.createElement(u,{data:s})))};const E=({type:a,date:t})=>e.createElement("div",{className:"post-date"},e.createElement("b",null,"create"===a?"📅":"🔄"),e.createElement("span",null,o(t)));E.defaultProps={type:"create"};var f=E;var v=({className:a,emoji:t,count:n})=>e.createElement("span",{className:s("fzj-reaction",a)},e.createElement("span",{className:"emoji"},t),e.createElement("span",{className:"count"},n));function N(){var m;const{issues:o}=a(),{data:u,loading:E,error:N}=n(o);if(E)return e.createElement(l,null);if(N)return e.createElement(r,{type:"issues",issues:o});if(!u)return null;const{title:g,bodyHTML:y,comments:h,reactions:j,category:b,labels:k,createdAt:w,updatedAt:L}=u,_=null==(m=null==k?void 0:k.edges)?void 0:m.some((({node:e})=>["wechat-link","wechat-post","微信杂谈"].includes(e.name)));return e.createElement("div",{className:s("issues-view",b.name.toLocaleLowerCase())},e.createElement(t,null,e.createElement("title",null,"浮之静｜",g)),e.createElement("div",{className:"post markdown-body"},e.createElement("div",{className:"fzj-post"},_&&e.createElement("img",{className:"woap",src:"/assets/woap.99c96107.svg",alt:"woap",onClick:()=>{window.open(`${window.location.origin}/posts/issues-${o.toString().padStart(4,"0")}`,"__blank")}}),e.createElement("h1",{className:"title",onClick:()=>c(d(o))},e.createElement("span",null,e.createElement("span",{className:"issues"},"#",o),e.createElement("span",null,g))),e.createElement("div",{className:"date"},e.createElement(f,{date:w}),e.createElement(f,{type:"update",date:L})),e.createElement("div",{className:"status"},i(j.edges).map((a=>e.createElement(v,{key:a[0],emoji:a[0],count:a[1]})))),e.createElement("div",{dangerouslySetInnerHTML:{__html:y}})),h.edges.length>0&&e.createElement("div",{className:"fzj-comment"},h.edges.map((({node:a})=>e.createElement(p,{key:a.id,data:a}))))))}export{N as default};
